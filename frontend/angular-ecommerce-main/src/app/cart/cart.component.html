<section class="max-w-screen-lg mx-auto p-6">
  <h1 class="text-2xl font-bold mb-6">üõí Gi·ªè h√†ng</h1>

  <div *ngIf="!cart">ƒêang t·∫£i...</div>

  <ng-container *ngIf="cart as c">
    <div *ngIf="c.items.length === 0" class="text-slate-600">Gi·ªè h√†ng tr·ªëng</div>

    <div *ngFor="let it of c.items" class="flex items-center justify-between border-b py-3">
      <div>
        <div class="font-medium">{{ it.product.name }}</div>
        <div class="text-sm text-slate-500">
          ƒê∆°n gi√°: {{ it.product.price | currency:'VND':'symbol-narrow':'1.0-0' }}
        </div>
        <div class="text-sm text-slate-500">
          Th√†nh ti·ªÅn: {{ it.price | currency:'VND':'symbol-narrow':'1.0-0' }}
        </div>
      </div>

      <div class="flex items-center gap-2">
        <input type="number"
               min="0"
               [value]="it.quantity"
               (input)="onQtyInput(it, $event)"
               class="w-20 border rounded px-2 py-1 text-right">
        <!-- N·∫øu th√≠ch d√πng change thay cho input:
        <input type="number" min="0" [value]="it.quantity"
               (change)="onQtyChange(it.product.id, $event)" class="w-20 border rounded px-2 py-1 text-right">
        -->
        <button (click)="remove(it)" class="px-3 py-1 text-red-600 hover:underline">Xo√°</button>
      </div>
    </div>

    <div class="mt-6 flex justify-between items-center">
      <div class="text-lg font-semibold">
        T·ªïng ti·ªÅn: {{ total() | currency:'VND':'symbol-narrow':'1.0-0' }}
      </div>
      <div class="flex gap-3">
        <button (click)="clear()" class="px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700">
          Xo√° to√†n b·ªô
        </button>
        <!-- üëâ N√∫t ƒë·∫∑t h√†ng -->
        <button (click)="goCheckout()"
                [disabled]="!c.items.length"
                class="px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50">
          ƒê·∫∑t h√†ng
        </button>
      </div>
    </div>
  </ng-container>
</section>
